<html>
    <head>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css"> <!-- problema di contrasto con la finestra -->
        <link rel="stylesheet" href="CSS/PaginaInizialeStyle.css" type="text/css">
    <head>
    <body onload="generate_list(0)">
        <button onclick="goBack()">Back</button>
        <div class ='container' id='news'></div>
        <script type = 'text/javascript'>
            function generate_list(x){
                document.getElementById("news").innerHTML = ""

                var i, j;
                var news = {{list_news|tojson}};
                var obj = JSON.parse(news);

                if ({{len}}%3 == 0) len = (x*3) + 3;
                else len = (x*3) + {{len}}%3;

                for (i=x*3;i<len;i++){
                 string1 = "<div class='col s12 m7' ><div class='card horizontal'  style='height:170px;' id='a'><div class='card-image' style='width:40%;height:100%;'>"
                 string2 = "<img src='"+obj.News[i].main_img_url+"'  style='width: 100%;height:100%;'></div><div class='card-stacked'>"
                 string3 = "<div class='card-content' style='width:100%;'><span class='card-title' style='color:red;font-size:15px;'>"+obj.News[i].title+"</span>"
                 string4 ="<p style='color:black;font-size:13px;'>"+obj.News[i].text+"</p></div></div></div></div>"
                 document.getElementById("news").innerHTML +=  string1+string2+string3+string4;
	            }

				for(j=0;j<{{len}}/3;j++){
					document.getElementById("news").innerHTML += "<button type='button' onclick='generate_list("+j+")'>"+(j+1)+"</button>";
				}

			}

            function goBack() {
                window.history.back();
            }
        </script>
    </body>
</html>